(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{3323:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i}));var l=a(0),r=a(80);const n=({noOfSpaces:e=1,rowSpace:t,columnSpace:a})=>l.createElement("div",{style:{width:t?r.a.gridBaseUnit*e:0,height:a?r.a.gridBaseUnit*e:0}}),s=({units:e=1})=>l.createElement(n,{rowSpace:!0,noOfSpaces:e}),i=({units:e=1})=>l.createElement(n,{columnSpace:!0,noOfSpaces:e})},3330:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var l=a(0),r=a(1139),n=a(882),s=a(530),i=a(21),o=a(740),c=a(3308),h=a.n(c),d=a(3323),p=a(275);class u extends s.a{constructor(e,t){super(e,t),this.shippingLabelButtonClick=e=>{this.setState({menuAnchorEl:e.target})},this.renderMenu=()=>l.createElement(o.A,{style:{marginTop:"3.35em"},anchorEl:this.state.menuAnchorEl?this.state.menuAnchorEl:void 0,open:Boolean(this.state.menuAnchorEl),onClose:this.handleMenuClose},l.createElement(o.B,{key:"SHIPPING_LABEL_ONLY",onClick:this.handleMenuItemClick("SHIPPING_LABEL_ONLY")},this.getString("batchJobs.detailSection.startShippingLabelReqLabel")),l.createElement(o.B,{key:"SHIPPING_LABEL_ORDER_DETAILS",onClick:this.handleMenuItemClick("SHIPPING_LABEL_ORDER_DETAILS")},this.getString("batchJobs.detailSection.startShippingLabelAndOrderReqLabel"))),this.handleMenuClose=()=>{this.setState({menuAnchorEl:void 0})},this.handleMenuItemClick=e=>()=>{this.setState({menuAnchorEl:void 0}),this.props.jobId&&this.props.resultId?"SHIPPING_LABEL_ONLY"===e?r.b.startShippingLabelDownloadRequest(this.props.jobId,!1,this.props.resultId).then((e=>this.props.menuItemSelectedListener(r.c.SUCCESS))).catch((e=>this.props.menuItemSelectedListener(r.c.ERROR))):r.b.startShippingLabelDownloadRequest(this.props.jobId,!0,this.props.resultId).then((e=>this.props.menuItemSelectedListener(r.c.SUCCESS))).catch((e=>this.props.menuItemSelectedListener(r.c.ERROR))):this.props.shipmentGpId&&("SHIPPING_LABEL_ONLY"===e?p.a.downloadShippingLabel(this.props.shipmentGpId,!1).then((e=>this.props.menuItemSelectedListener(r.c.SUCCESS))).catch((e=>this.props.menuItemSelectedListener(r.c.ERROR))):p.a.downloadShippingLabel(this.props.shipmentGpId,!0).then((e=>this.props.menuItemSelectedListener(r.c.SUCCESS))).catch((e=>this.props.menuItemSelectedListener(r.c.ERROR))))},this.state={menuAnchorEl:void 0}}renderDesktop(){return l.createElement("div",null,l.createElement(i.g,null,l.createElement(o.a,{color:"primary",style:{...n.a.fulfilment.actionButtonStyle,...n.a.fulfilment.actionButtonPrimary},raised:!0,onClick:this.shippingLabelButtonClick},this.getString("batchJobs.detailSection.startShippingLabelMenuLabel"),l.createElement(h.a,null)),l.createElement(d.b,null)),this.renderMenu())}}},3331:function(e,t,a){"use strict";var l=a(0),r=a(530),n=a(1139),s=a(882),i=a(1142),o=a.n(i),c=a(740),h=a(359),d=a.n(h),p=a(21),u=a(3308),E=a.n(u),m=a(3323),S=a(255),D=a(742),g=a.n(D),k=a(3314),O=a.n(k);class C extends r.a{constructor(e,t){super(e,t),this.handleChange=e=>{this.setState({searchTerm:e.target.value})},this.searchHandler=()=>{Object(S.a)(this.state.searchTerm)||this.props.searchResultHandler(this.state.searchTerm)},this.state={searchTerm:""}}renderDesktop(){return l.createElement(p.g,{style:this.props.style?this.props.style:{}},l.createElement("input",{type:"text",style:{borderRadius:"5px",height:"35px",flex:1,padding:"5px",fontSize:"1em",border:"1px solid "+s.a.palette.borderLight},onChange:this.handleChange,placeholder:"Order-Id / Shipment-Id"}),l.createElement(m.b,null),l.createElement(g.a,{fab:!0,mini:!0,color:"primary",onClick:this.searchHandler},l.createElement(O.a,null)))}}var b=a(1409),L=a(94),R=a(96),I=a(508),_=a(441),y=a.n(_),f=a(591),T=a.n(f),w=a(1412),B=a.n(w);const A=a(9);class x extends r.a{constructor(e,t){super(e,t),this.cancelHandler=()=>{this.setState({open:!1,currentScreenIndex:0}),this.props.batchCreationSuccessful("")},this.nextButtonHandler=()=>{this.setState({showNextButton:!1,showCreateBatchButton:!0,currentScreenIndex:1})},this.createBatchButtonHandler=()=>{this.logDebug("todo: call the api to create batch with the details."),this.setState({open:!1,currentScreenIndex:0}),this.props.batchCreationSuccessful("")},this.screen2=()=>l.createElement(p.f,{flex:1,alignItems:"center"},l.createElement(p.g,{flex:1},l.createElement(c.Q,{label:"Batch Name",margin:"normal"})),l.createElement(p.g,{flex:1},l.createElement(p.g,{alignItems:"center"},l.createElement(p.e,null,this.getString("sellerFulfilment.createBatchDialog.totalOrdersLabel")),l.createElement(m.b,null),l.createElement("h3",null,"20")))),this.screen1=()=>l.createElement(p.c,{asyncState:this.props.fforderSummaryList,onRefresh:this.props.dispatchGetOrderSummaryList,onFetchMore:this.props.dispatchGetOrderSummaryList,style:p.c.STYLE_FULL_SCREEN,renderResult:this.renderOrderSummary}),this.renderOrderSummary=e=>{if(void 0===this.state.orderIdsSelected){let e=new Map;this.props.fforderSummaryList.result.forEach((t=>{e.set(t.sellerOrderId,!0)})),this.setState({orderIdsSelected:e})}return l.createElement(p.g,{justifyContent:"space-between",alignItems:"center",style:{paddingBottom:s.a.gridBaseUnit}},l.createElement(p.g,null,l.createElement(T.a,{src:e.buyerOrgCompact.logoUrl}),l.createElement(m.b,null),l.createElement(p.f,null,l.createElement(p.k,null,e.buyerOrgCompact.displayName),l.createElement(p.e,null,e.buyerOrgCompact.location))),l.createElement(p.g,{alignItems:"center"},l.createElement(p.e,null,this.getString("sellerFulfilment.createBatchDialog.orderIdLabel")),l.createElement(m.b,null),l.createElement(p.j,null,e.sellerOrderId)),l.createElement(p.g,{alignItems:"center"},l.createElement(p.e,null,this.getString("sellerFulfilment.createBatchDialog.orderDateLabel")),l.createElement(m.b,null),l.createElement(p.j,null,A(e.createdAt).format("DD-MMM-YY"))),l.createElement(B.a,{checked:!this.state.orderIdsSelected||this.state.orderIdsSelected.get(e.sellerOrderId),onChange:this.checkboxClickHandler,value:e.sellerOrderId}))},this.checkboxClickHandler=e=>{const t=e.target.value;if(this.state.orderIdsSelected)if(this.state.orderIdsSelected.get(t)){if(this.state.orderIdsSelected.get(t)){let e=this.state.orderIdsSelected;e.set(t,!1),this.setState({orderIdsSelected:e})}}else{let e=this.state.orderIdsSelected;e.set(t,!0),this.setState({orderIdsSelected:e})}},this.fetchFFOrderSummaryList=()=>{this.logDebug("called function fetchFFOrderSummaryList"),this.props.dispatchGetOrderSummaryList("SELLER_ORDER_PAYMENT_RECEIVED")},this.state={open:e.open,showNextButton:!0,showCreateBatchButton:!1,currentScreenIndex:0,orderIdsSelected:void 0}}componentDidMount(){super.componentDidMount()}componentWillReceiveProps(e,t){return this.state.open!==e.open&&this.setState({open:e.open},(()=>{!0===e.open&&this.fetchFFOrderSummaryList()})),super.componentWillReceiveProps(e,t)}renderDesktop(){return l.createElement(y.a,{open:this.state.open,maxWidth:"md"},l.createElement(c.m,null,this.getString("sellerFulfilment.createBatchDialog.dialogTitle")),l.createElement(c.k,{style:{width:"750px",height:"50%"}},0===this.state.currentScreenIndex?this.screen1():this.screen2()),l.createElement(c.j,null,l.createElement(g.a,{onClick:this.cancelHandler},this.getString("sellerFulfilment.createBatchDialog.cancelButtonLabel")),l.createElement(g.a,{raised:!0,onClick:this.nextButtonHandler,color:"primary",style:{display:this.state.showNextButton?"block":"none"}},this.getString("sellerFulfilment.createBatchDialog.nextButtonLabel")),l.createElement(g.a,{raised:!0,onClick:this.createBatchButtonHandler,color:"primary",style:{display:this.state.showCreateBatchButton?"block":"none"}},this.getString("sellerFulfilment.createBatchDialog.createBatchButtonLabel"))))}}var N=Object(R.b)((function(e,t){return{open:t.open,batchCreationSuccessful:t.batchCreationSuccessful,fforderSummaryList:e.ffOrderSummaryList}}),(function(e){return{dispatchGetOrderSummaryList:t=>e(Object(I.d)({status:t}))}}))(x);class M extends r.a{constructor(e,t){super(e,t),this.renderTaskSpecificUX=()=>this.props.taskType===n.a.ORDER_DETAIL?l.createElement(p.g,{flex:1,alignItems:"center",justifyContent:"flex-start"},l.createElement(p.l,null,this.getString("sellerFulfilment.downloadDialog.getHoldOrdersOnly")),l.createElement(m.b,null),l.createElement(c.K,{checked:this.state.getHoldOrders,onChange:this.holdOrderSwitchHandler,value:"printOrderDetail"})):this.props.taskType===n.a.DOWNLOAD_SHIPPING_LABEL_BETWEEN_DATES?l.createElement(l.Fragment,null,l.createElement(m.a,null),l.createElement(p.g,{alignItems:"center",justifyContent:"flex-start"},l.createElement(p.l,null,this.getString("sellerFulfilment.downloadDialog.printOrderDetails")),l.createElement(m.b,null),l.createElement(c.K,{checked:this.state.printOrderDetail,onChange:this.handlePrintOrderDetailClick,value:"printOrderDetail"}))):null,this.holdOrderSwitchHandler=e=>{let t=this.state.getHoldOrders;this.setState({getHoldOrders:!t})},this.handlePrintOrderDetailClick=()=>{let e=this.state.printOrderDetail;this.setState({printOrderDetail:!e})},this.startDateChangeHandler=e=>{const t=e.target.value;this.setState({startDate:t})},this.endDateChangeHandler=e=>{const t=e.target.value;this.setState({endDate:t})},this.requestDownloadHandler=()=>{switch(this.setState({open:!1}),this.props.taskType){case n.a.ORDER_DETAIL:n.b.startOrderDetailDownloadRequest(this.state.startDate,this.state.endDate,this.state.getHoldOrders).then((e=>{this.props.callBack(n.c.SUCCESS),this.props.history.push("/batch-job/all-jobs")})).catch((e=>{this.logError("Encountered error while creating a new download request",e),this.props.callBack(n.c.ERROR,e)}));break;case n.a.DOWNLOAD_INVOICE_OVER_DAYS:n.b.startInvoiceDownloadRequest(this.state.startDate,this.state.endDate).then((e=>{this.props.callBack(n.c.SUCCESS),this.props.history.push("/batch-job/all-jobs")})).catch((e=>{this.logError("Encountered error while creating a new download request",e),this.props.callBack(n.c.ERROR,e)}));break;case n.a.DOWNLOAD_SHIPPING_LABEL_BETWEEN_DATES:n.b.startShippingLabelDownloadRequestGivenDates(this.state.startDate,this.state.endDate,this.state.printOrderDetail).then((e=>{this.props.callBack(n.c.SUCCESS),this.props.history.push("/batch-job/all-jobs")})).catch((e=>{this.logError("Encountered error while creating a new download request",e),this.props.callBack(n.c.ERROR)}))}},this.cancelHandler=()=>{this.setState({open:!1}),this.props.callBack(n.c.CANCELLED)},this.state={open:e.open,startDate:"",endDate:"",printOrderDetail:!1,getHoldOrders:!1}}componentWillReceiveProps(e,t){return this.setState({open:e.open}),super.componentWillReceiveProps(e,t)}renderDesktop(){return l.createElement(c.i,{open:this.state.open},l.createElement(c.m,null,this.getString(`sellerFulfilment.downloadDialog.${this.props.taskType}_dialogTitle`)),l.createElement(c.k,null,l.createElement(p.f,{alignItems:"flex-start",justifyContent:"space-between"},l.createElement(p.g,{alignItems:"center",justifyContent:"space-between"},l.createElement(c.Q,{id:"startDate",label:"Start Date",type:"date",defaultValue:"yyyy-mm-dd",InputLabelProps:{shrink:!0},onChange:this.startDateChangeHandler}),l.createElement(m.b,{units:2}),l.createElement(c.Q,{id:"endDate",label:"End Date",type:"date",defaultValue:"yyyy-mm-dd",InputLabelProps:{shrink:!0},onChange:this.endDateChangeHandler})),this.renderTaskSpecificUX())),l.createElement(c.j,null,l.createElement(c.a,{onClick:this.cancelHandler},this.getString("sellerFulfilment.downloadDialog.cancelButtonLabel")),l.createElement(c.a,{raised:!0,onClick:this.requestDownloadHandler,color:"primary"},this.getString(`sellerFulfilment.downloadDialog.${this.props.taskType}_downloadButtonLabel`))))}}var P=Object(L.o)(M);class v extends r.a{constructor(e,t){super(e,t),this.attachmentInputField=null,this.uploadRequest=()=>{if(!this.attachmentInputField)return;const e=this.attachmentInputField.files;e&&0!==e.length&&this.setState({isUploading:!0},(()=>{n.b.uploadRequest(this.props.taskType,e[0]).then((()=>{this.setState({open:!1}),this.props.history.push("/batch-job/all-jobs"),this.props.callBack(n.d.SUCCESS)})).catch((e=>{this.logError(e),this.props.callBack(n.d.ERROR)}))}))},this.cancelHandler=()=>{this.setState({open:!1,isUploading:!1}),this.props.callBack(n.d.CANCELLED)},this.state={open:e.open,isUploading:!1}}componentWillReceiveProps(e,t){return this.setState({open:e.open,isUploading:!1}),super.componentWillReceiveProps(e,t)}renderDesktop(){return l.createElement(c.i,{open:this.state.open},l.createElement(c.m,null,this.getString(`sellerFulfilment.uploadDialog.${this.props.taskType}_dialogTitle`)),l.createElement(c.k,null,l.createElement(p.g,{flex:1,alignItems:"center",justifyContent:"space-between"},l.createElement("input",{ref:e=>this.attachmentInputField=e,type:"file",accept:".xlsx"}))),l.createElement(c.j,null,l.createElement(c.a,{onClick:this.cancelHandler},this.getString("sellerFulfilment.uploadDialog.cancelButtonLabel")),this.state.isUploading?l.createElement(c.a,{raised:!0,onClick:this.uploadRequest,color:"primary"},l.createElement(c.g,{size:24})):l.createElement(c.a,{raised:!0,onClick:this.uploadRequest,color:"primary"},this.getString(`sellerFulfilment.uploadDialog.${this.props.taskType}_uploadButtonLabel`))))}}var q=Object(L.o)(v);class F extends r.a{constructor(e,t){super(e,t),this.renderTaskSpecificUX=()=>this.props.taskType===n.a.DOWNLOAD_ORDER_INVOICE_DETAILS?l.createElement(p.g,{flex:1,alignItems:"center",justifyContent:"flex-start"},l.createElement(p.l,null,this.getString("sellerFulfilment.downloadDialog.getHoldOrdersOnly")),l.createElement(m.b,null),l.createElement(c.K,{checked:this.state.getHoldOrders,onChange:this.holdOrderSwitchHandler,value:"printOrderDetail"})):null,this.holdOrderSwitchHandler=e=>{let t=this.state.getHoldOrders;this.setState({getHoldOrders:!t})},this.startDateChangeHandler=e=>{const t=e.target.value;this.setState({startDate:t})},this.requestDownloadHandler=()=>{this.setState({open:!1}),this.props.taskType===n.a.DOWNLOAD_ORDER_INVOICE_DETAILS?n.b.downloadOrderDetailsForInvoicing(this.state.startDate,this.state.getHoldOrders).then((e=>{this.props.callBack(n.c.SUCCESS)})).catch((e=>{this.logError("Encountered error while downloading order and invoice details",e),this.props.callBack(n.c.ERROR,e)})):this.props.taskType===n.a.DOWNLOAD_DAY_END_INVOICE?n.b.downloadDayEndInvoiceDetails(this.state.startDate).then((e=>{this.props.callBack(n.c.SUCCESS)})).catch((e=>{this.logError("Encountered error while downloading day-end invoice details",e),this.props.callBack(n.c.ERROR,e)})):this.props.taskType===n.a.DOWNLOAD_PICK_LIST&&n.b.startPickListDownloadJob(this.state.startDate).then((e=>{this.props.callBack(n.c.SUCCESS),this.props.history.push("/batch-job/all-jobs")})).catch((e=>{this.logError("Encountered error while downloading day-end invoice details",e),this.props.callBack(n.c.ERROR,e)}))},this.cancelHandler=()=>{this.setState({open:!1}),this.props.callBack(n.c.CANCELLED)},this.state={open:e.open,startDate:"",getHoldOrders:!1}}componentWillReceiveProps(e,t){return this.setState({open:e.open,getHoldOrders:!1}),super.componentWillReceiveProps(e,t)}renderDesktop(){return l.createElement(c.i,{open:this.state.open},l.createElement(c.m,null,this.getString(`sellerFulfilment.downloadDialog.${this.props.taskType}_dialogTitle`)),l.createElement(c.k,null,l.createElement(p.f,null,l.createElement(p.g,{flex:1,alignItems:"center",justifyContent:"space-between"},l.createElement(c.Q,{id:"startDate",label:"Start Date",type:"date",defaultValue:"yyyy-mm-dd",InputLabelProps:{shrink:!0},onChange:this.startDateChangeHandler})),l.createElement(m.a,null),l.createElement(p.g,{flex:1},this.renderTaskSpecificUX()))),l.createElement(c.j,null,l.createElement(c.a,{onClick:this.cancelHandler},this.getString("sellerFulfilment.downloadDialog.cancelButtonLabel")),l.createElement(c.a,{raised:!0,onClick:this.requestDownloadHandler,color:"primary"},this.getString(`sellerFulfilment.downloadDialog.${this.props.taskType}_downloadButtonLabel`))))}}var H=Object(L.o)(F),W=a(1414),U=a.n(W),j=a(3315),V=a.n(j);class G extends r.a{constructor(e,t){super(e,t),this.handleCheckboxClick=e=>t=>{const a=t.target.checked;switch(e){case"SELLER_ORDER_PAYMENT_RECEIVED":this.setState({newOrderCheckboxChecked:a},(()=>this.calculateStatesList()));break;case"SELLER_ORDER_PROCESSING":this.setState({processingOrderCheckboxChecked:a},(()=>this.calculateStatesList()));break;case"SELLER_ORDER_RTS":this.setState({awaitingPickupOrderCheckboxChecked:a},(()=>this.calculateStatesList()));break;case"SELLER_ORDER_PICKED":this.setState({pickedOrderCheckboxChecked:a},(()=>this.calculateStatesList()));break;case"SELLER_ORDER_SHIPPED":this.setState({shippedOrderCheckboxChecked:a},(()=>this.calculateStatesList()));break;case"SELLER_ORDER_DELIVERED":this.setState({deliveredOrderCheckboxChecked:a},(()=>this.calculateStatesList()));break;case"SELLER_ORDER_RTO":this.setState({rtoOrderCheckboxChecked:a},(()=>this.calculateStatesList()));break;case"SELLER_ORDER_CANCEL":this.setState({cancelCheckboxChecked:a},(()=>this.calculateStatesList()));break;case"ALL_ORDERS":this.setState({allOrderCheckboxChecked:a})}},this.calculateStatesList=()=>{const e=this.state.newOrderCheckboxChecked,t=this.state.processingOrderCheckboxChecked,a=this.state.awaitingPickupOrderCheckboxChecked,l=this.state.pickedOrderCheckboxChecked,r=this.state.shippedOrderCheckboxChecked,n=this.state.deliveredOrderCheckboxChecked,s=this.state.rtoOrderCheckboxChecked,i=this.state.cancelCheckboxChecked;let o=[];e&&o.push("SELLER_ORDER_PAYMENT_RECEIVED"),t&&o.push("SELLER_ORDER_PROCESSING"),a&&o.push("SELLER_ORDER_RTS"),l&&o.push("SELLER_ORDER_PICKED"),r&&o.push("SELLER_ORDER_SHIPPED"),n&&o.push("SELLER_ORDER_DELIVERED"),s&&o.push("SELLER_ORDER_RTO"),i&&(o.push("SELLER_ORDER_BUYER_CANCEL"),o.push("SELLER_ORDER_SELLER_CANCEL")),this.setState({states:o})},this.startDateChangeHandler=e=>{const t=e.target.value;this.setState({fromDate:t})},this.endDateChangeHandler=e=>{const t=e.target.value;this.setState({toDate:t})},this.saveHandler=()=>{""!==this.state.fromDate&&""!==this.state.toDate&&0!==this.state.states.length&&(this.setState({open:!1}),n.b.startOrderDetailWithMultipleStatesDownloadRequest(this.state.fromDate,this.state.toDate,this.state.states,this.state.allOrderCheckboxChecked).then((e=>{this.props.callBack(n.c.SUCCESS),this.props.history.push("/batch-job/all-jobs")})).catch((e=>{this.props.callBack(n.c.ERROR,e)})))},this.cancelHandler=()=>{this.setState({open:!1},(()=>{this.props.callBack(n.c.CANCELLED)}))},this.state={open:e.open,states:[],fromDate:"",toDate:"",newOrderCheckboxChecked:!1,processingOrderCheckboxChecked:!1,awaitingPickupOrderCheckboxChecked:!1,pickedOrderCheckboxChecked:!1,shippedOrderCheckboxChecked:!1,deliveredOrderCheckboxChecked:!1,rtoOrderCheckboxChecked:!1,cancelCheckboxChecked:!1,allOrderCheckboxChecked:!1}}componentWillReceiveProps(e,t){return this.setState({open:e.open,states:[],fromDate:"",toDate:"",newOrderCheckboxChecked:!1,processingOrderCheckboxChecked:!1,awaitingPickupOrderCheckboxChecked:!1,pickedOrderCheckboxChecked:!1,shippedOrderCheckboxChecked:!1,deliveredOrderCheckboxChecked:!1,rtoOrderCheckboxChecked:!1}),super.componentWillReceiveProps(e,t)}renderDesktop(){return l.createElement(c.i,{open:this.state.open,style:{borderRadius:"20px",minWidth:"400px"}},l.createElement(c.m,null,this.getString("sellerFulfilment.orderDetailDownloadRequestDialog.dialogTitle")),l.createElement(c.k,{style:{minWidth:"400px"}},l.createElement(p.f,{alignItems:"flex-start",justifyContent:"space-between"},l.createElement(p.g,{alignItems:"center",justifyContent:"space-between"},l.createElement(c.Q,{id:"startDate",label:"Start Date",type:"date",defaultValue:"yyyy-mm-dd",InputLabelProps:{shrink:!0},onChange:this.startDateChangeHandler}),l.createElement(m.b,{units:2}),l.createElement(c.Q,{id:"endDate",label:"End Date",type:"date",defaultValue:"yyyy-mm-dd",InputLabelProps:{shrink:!0},onChange:this.endDateChangeHandler})),l.createElement(b.a,{type:"light"}),l.createElement(m.a,{units:2}),l.createElement(p.i,null,this.getString("sellerFulfilment.orderDetailDownloadRequestDialog.chooseStatesLabel")),l.createElement(c.r,null,l.createElement(c.q,{control:l.createElement(c.f,{checked:this.state.newOrderCheckboxChecked,onChange:this.handleCheckboxClick("SELLER_ORDER_PAYMENT_RECEIVED"),value:"SELLER_ORDER_PAYMENT_RECEIVED"}),label:this.getString("sellerFulfilment.orderDetailDownloadRequestDialog.newOrderCheckboxLabel")}),l.createElement(c.q,{control:l.createElement(c.f,{checked:this.state.processingOrderCheckboxChecked,onChange:this.handleCheckboxClick("SELLER_ORDER_PROCESSING"),value:"SELLER_ORDER_PROCESSING"}),label:this.getString("sellerFulfilment.orderDetailDownloadRequestDialog.processingOrderCheckboxLabel")}),l.createElement(c.q,{control:l.createElement(c.f,{checked:this.state.awaitingPickupOrderCheckboxChecked,onChange:this.handleCheckboxClick("SELLER_ORDER_RTS"),value:"SELLER_ORDER_RTS"}),label:this.getString("sellerFulfilment.orderDetailDownloadRequestDialog.awaitingPickupOrderCheckboxLabel")}),l.createElement(c.q,{control:l.createElement(c.f,{checked:this.state.pickedOrderCheckboxChecked,onChange:this.handleCheckboxClick("SELLER_ORDER_PICKED"),value:"SELLER_ORDER_PICKED"}),label:this.getString("sellerFulfilment.orderDetailDownloadRequestDialog.pickedOrderCheckboxLabel")}),l.createElement(c.q,{control:l.createElement(c.f,{checked:this.state.shippedOrderCheckboxChecked,onChange:this.handleCheckboxClick("SELLER_ORDER_SHIPPED"),value:"SELLER_ORDER_SHIPPED"}),label:this.getString("sellerFulfilment.orderDetailDownloadRequestDialog.shippedOrderCheckboxLabel")}),l.createElement(c.q,{control:l.createElement(c.f,{checked:this.state.deliveredOrderCheckboxChecked,onChange:this.handleCheckboxClick("SELLER_ORDER_DELIVERED"),value:"SELLER_ORDER_DELIVERED"}),label:this.getString("sellerFulfilment.orderDetailDownloadRequestDialog.deliveredOrderCheckboxLabel")}),l.createElement(c.q,{control:l.createElement(c.f,{checked:this.state.rtoOrderCheckboxChecked,onChange:this.handleCheckboxClick("SELLER_ORDER_RTO"),value:"SELLER_ORDER_RTO"}),label:this.getString("sellerFulfilment.orderDetailDownloadRequestDialog.rtoOrderCheckboxLabel")}),l.createElement(c.q,{control:l.createElement(c.f,{checked:this.state.cancelCheckboxChecked,onChange:this.handleCheckboxClick("SELLER_ORDER_CANCEL"),value:"SELLER_ORDER_CANCEL"}),label:this.getString("sellerFulfilment.orderDetailDownloadRequestDialog.cancelCheckboxLabel")}),l.createElement(c.q,{control:l.createElement(c.f,{checked:this.state.allOrderCheckboxChecked,onChange:this.handleCheckboxClick("ALL_ORDERS"),value:"ALL_ORDERS"}),label:this.getString("sellerFulfilment.orderDetailDownloadRequestDialog.allOrdersCheckboxLabel")})))),l.createElement(c.j,null,l.createElement(p.g,{alignItems:"center",style:{marginRight:2*p.o.gridBaseUnit}},l.createElement(c.a,{onClick:this.cancelHandler},this.getString("sellerFulfilment.orderDetailDownloadRequestDialog.closeButton")),l.createElement(c.a,{onClick:this.saveHandler,raised:!0,color:"primary"},this.getString("sellerFulfilment.orderDetailDownloadRequestDialog.requestDownloadButton")))))}}var Y=Object(L.o)(G);class K extends r.a{constructor(e,t){super(e,t),this.closeSnackBar=()=>{this.setState({errorSnackBarOpen:!1})},this.renderBatchTab=()=>l.createElement("div",{onClick:this.batchMenuTabClick},l.createElement(p.g,null,l.createElement(p.l,null,this.getString("sellerFulfilment.tab.batchMenuTabLabel")),l.createElement(m.b,null),l.createElement(E.a,null))),this.handleDownloadRequestCallback=(e,t)=>{e===n.c.ERROR?this.setState({errorSnackBarOpen:!0,requestDownloadDialogOpen:!1,requestSingleDateDownloadDialogOpen:!1,requestDownloadOrderDetailOpen:!1},(()=>{t&&"server"===t.type&&this.logError("Fatal Error: "+t.body)})):this.setState({requestDownloadDialogOpen:!1,requestSingleDateDownloadDialogOpen:!1,requestDownloadOrderDetailOpen:!1})},this.handleRequestUploadCallback=e=>{e===n.d.ERROR?this.setState({errorSnackBarOpen:!0,requestUploadDialogOpen:!1}):this.setState({requestUploadDialogOpen:!1}),this.setState({requestUploadDialogOpen:!1})},this.batchMenuTabClick=e=>{this.setState({batchMenuAnchorEl:e.target})},this.renderBatchMenu=()=>l.createElement(d.a,{style:{marginTop:"3.15em"},anchorEl:this.state.batchMenuAnchorEl?this.state.batchMenuAnchorEl:void 0,open:Boolean(this.state.batchMenuAnchorEl),onClose:this.handleBatchMenuClose},l.createElement(l.Fragment,null,l.createElement(h.MenuItem,{dense:!0,key:this.getString("sellerFulfilment.tab.rtsInvoiceSubSectionLabel"),style:{backgroundColor:s.a.palette.canvasBackgroundDarker}},l.createElement(p.j,{style:{color:s.a.palette.textAlternate,fontWeight:"bold"}},this.getString("sellerFulfilment.tab.rtsInvoiceSubSectionLabel"))),this.props.isPickListEnabledForSeller.result&&l.createElement(h.MenuItem,{dense:!0,key:n.a.DOWNLOAD_PICK_LIST,onClick:this.handleBatchMenuItemClick(n.a.DOWNLOAD_PICK_LIST)},l.createElement("span",{style:{width:2*s.a.gridBaseUnit}}),l.createElement(p.j,null,"Step 1")," ",l.createElement(p.l,null,this.getString("sellerFulfilment.tab.downloadPicklistLabel"))),l.createElement(h.MenuItem,{dense:!0,key:n.a.DOWNLOAD_ORDER_INVOICE_DETAILS,onClick:this.handleBatchMenuItemClick(n.a.DOWNLOAD_ORDER_INVOICE_DETAILS)},l.createElement("span",{style:{width:2*s.a.gridBaseUnit}}),l.createElement(p.j,null,this.props.isPickListEnabledForSeller.result?"Step 2":"Step 1")," ",l.createElement(p.l,null,this.getString("sellerFulfilment.tab.downloadRequestOrderInvoiceDetailsLabel"))),l.createElement(h.MenuItem,{dense:!0,key:n.a.UPLOAD_RTS_INVOICE,onClick:this.handleBatchMenuItemClick(n.a.UPLOAD_RTS_INVOICE)},l.createElement("span",{style:{width:2*s.a.gridBaseUnit}}),l.createElement(p.j,null,this.props.isPickListEnabledForSeller.result?"Step 3":"Step 2")," ",l.createElement(p.l,null,this.getString("sellerFulfilment.tab.uploadRequestRtsInvoiceLabel"))),l.createElement(h.MenuItem,{dense:!0,key:n.a.DOWNLOAD_INVOICE_OVER_DAYS,onClick:this.handleBatchMenuItemClick(n.a.DOWNLOAD_INVOICE_OVER_DAYS)},l.createElement("span",{style:{width:2*s.a.gridBaseUnit}}),l.createElement(p.j,null,this.props.isPickListEnabledForSeller.result?"Step 4":"Step 3")," ",l.createElement(p.l,null,this.getString("sellerFulfilment.tab.downloadInvoiceLabel")))),l.createElement(b.a,{type:"light"}),l.createElement(h.MenuItem,{key:n.a.DOWNLOAD_SHIPPING_LABEL_BETWEEN_DATES,onClick:this.handleBatchMenuItemClick(n.a.DOWNLOAD_SHIPPING_LABEL_BETWEEN_DATES)},l.createElement(p.f,null,l.createElement(p.l,null,this.getString("sellerFulfilment.tab.downloadShippingLabelBetweenDatesLabel")),l.createElement(p.e,null,this.getString("sellerFulfilment.tab.downloadShippingLabelBetweenDatesCaption")))),l.createElement(h.MenuItem,{key:n.a.DOWNLOAD_ORDER_DETAILS_MULTI_STATES,onClick:this.handleBatchMenuItemClick(n.a.DOWNLOAD_ORDER_DETAILS_MULTI_STATES)},l.createElement(p.f,null,l.createElement(p.l,null,this.getString("sellerFulfilment.tab.downloadOrderDetailsMultiStatesLabel")),l.createElement(p.e,null,this.getString("sellerFulfilment.tab.downloadOrderDetailsMultiStatesCaption")))),l.createElement(b.a,{type:"light"}),l.createElement(h.MenuItem,{key:n.a.OPEN_BATCH_SCREEN,onClick:()=>{this.setState({batchMenuAnchorEl:void 0},(()=>this.props.history.push("/batch-job/all-jobs")))}},this.getString("sellerFulfilment.tab.gotoBatchScreen"))),this.handleBatchMenuItemClick=e=>()=>{switch(e){case n.a.CREATE_FOR_ALL_NEW:this.setState({createBatchButtonDialogOpen:!0});break;case n.a.DOWNLOAD_ORDER_DETAILS:this.setState({requestDownloadDialogOpen:!0,taskType:n.a.ORDER_DETAIL});break;case n.a.DOWNLOAD_INVOICE_OVER_DAYS:this.setState({requestDownloadDialogOpen:!0,taskType:n.a.DOWNLOAD_INVOICE_OVER_DAYS});break;case n.a.DOWNLOAD_PICK_LIST:this.setState({singleDateTaskType:n.a.DOWNLOAD_PICK_LIST,requestSingleDateDownloadDialogOpen:!0});break;case n.a.DOWNLOAD_ORDER_INVOICE_DETAILS:this.setState({singleDateTaskType:n.a.DOWNLOAD_ORDER_INVOICE_DETAILS,requestSingleDateDownloadDialogOpen:!0});break;case n.a.DOWNLOAD_DAY_END_INVOICE:this.setState({singleDateTaskType:n.a.DOWNLOAD_DAY_END_INVOICE,requestSingleDateDownloadDialogOpen:!0});break;case n.a.UPLOAD_RTS:this.logDebug("todo: open dialog for request download for rts template"),this.setState({uploadTaskType:"BULK_RTS_ALL",requestUploadDialogOpen:!0});break;case n.a.UPLOAD_RTS_INVOICE:this.logDebug("todo: open dialog for request download for rts template"),this.setState({uploadTaskType:"BULK_RTS_AND_INVOICE_V2",requestUploadDialogOpen:!0});break;case n.a.DOWNLOAD_SHIPPING_LABEL_BETWEEN_DATES:this.logDebug("opening dialog to take dates"),this.setState({requestDownloadDialogOpen:!0,taskType:n.a.DOWNLOAD_SHIPPING_LABEL_BETWEEN_DATES});break;case n.a.DOWNLOAD_ORDER_DETAILS_MULTI_STATES:this.setState({requestDownloadOrderDetailOpen:!0})}this.setState({batchMenuAnchorEl:void 0}),this.trackEvent(p.a.FULFILMENT_BATCH,{[p.b.BATCH_OPTION]:e})},this.handleBatchMenuClose=()=>{this.setState({batchMenuAnchorEl:void 0})},this.searchQueryHandler=e=>{this.props.history.push("/seller-fulfilment/search/"+e)},this.tabChangeListener=(e,t)=>{this.setState({currentlySelectedTab:t})},this.renderOrderTab=()=>l.createElement("div",{onClick:this.orderMenuTabClick},l.createElement(p.g,null,l.createElement(p.l,null,this.getString("sellerFulfilment.tab.orderMenuTabLabel")),l.createElement(m.b,null),l.createElement(E.a,null))),this.orderMenuTabClick=e=>{this.setState({orderMenuAnchorEl:e.target})},this.renderOrderMenu=()=>l.createElement(d.a,{style:{marginTop:"3.15em"},anchorEl:this.state.orderMenuAnchorEl?this.state.orderMenuAnchorEl:void 0,open:Boolean(this.state.orderMenuAnchorEl),onClose:this.handleOrderMenuClose},l.createElement(h.MenuItem,{key:"new-orders",onClick:this.handleOrderMenuItemClick("new-orders")},l.createElement(p.l,null,this.getString("sellerFulfilment.tab.orderToProcessMenuItemLabel"))),l.createElement(h.MenuItem,{key:"ready-to-ship",onClick:this.handleOrderMenuItemClick("ready-to-ship")},l.createElement(p.l,null,this.getString("sellerFulfilment.tab.readyToShipMenuItemLabel"))),l.createElement(h.MenuItem,{key:"token-pending",onClick:this.handleOrderMenuItemClick("token-pending")},l.createElement(p.l,null,this.getString("sellerFulfilment.tab.waitingOnTokenMenuItemLabel"))),l.createElement(h.MenuItem,{key:"on-hold",onClick:this.handleOrderMenuItemClick("on-hold")},l.createElement(p.l,null,this.getString("sellerFulfilment.tab.onHoldMenuItemLabel"))),l.createElement(b.a,{type:"light"}),l.createElement(h.MenuItem,{key:"expired",onClick:this.handleOrderMenuItemClick("expired")},l.createElement(p.l,null,this.getString("sellerFulfilment.tab.expiredMenuItemLabel"))),l.createElement(h.MenuItem,{key:"expired",onClick:this.handleOrderMenuItemClick("processing")},l.createElement(p.l,null,this.getString("sellerFulfilment.tab.processingMenuItemLabel"))),l.createElement(h.MenuItem,{key:"expiring-today",onClick:this.handleOrderMenuItemClick("expiring-today")},l.createElement(p.l,null,this.getString("sellerFulfilment.tab.expiringTodayItemLabel")))),this.handleOrderMenuItemClick=e=>()=>{this.setState({orderMenuAnchorEl:void 0},(()=>this.props.history.push(`/seller-fulfilment/${e}/-`)))},this.handleOrderMenuClose=()=>{this.setState({orderMenuAnchorEl:void 0})},this.state={orderMenuAnchorEl:void 0,batchMenuAnchorEl:void 0,currentlySelectedTab:0,createBatchButtonDialogOpen:!1,requestDownloadDialogOpen:!1,requestSingleDateDownloadDialogOpen:!1,requestUploadDialogOpen:!1,uploadTaskType:"BULK_RTS_ALL",singleDateTaskType:n.a.DOWNLOAD_ORDER_INVOICE_DETAILS,taskType:n.a.ORDER_DETAIL,errorSnackBarOpen:!1,requestDownloadOrderDetailOpen:!1}}componentWillReceiveProps(e,t){super.componentWillReceiveProps(e,t),e.location.pathname.match(".*/seller-fulfilment/.*")?this.setState({currentlySelectedTab:0}):this.setState({currentlySelectedTab:1})}renderDesktop(){return l.createElement("div",{style:s.a.fulfilment.tabSection},l.createElement(p.g,{justifyContent:"space-between",alignItems:"center"},l.createElement(o.a,{value:this.state.currentlySelectedTab,indicatorColor:"primary",scrollable:!1,scrollButtons:"off",onChange:this.tabChangeListener},l.createElement(c.L,{label:this.renderOrderTab()}),l.createElement(c.L,{label:this.renderBatchTab()})),this.props.searchResultHandler&&l.createElement(C,{searchResultHandler:this.searchQueryHandler,style:{flex:.3,alignItems:"center",marginRight:1.5*s.a.gridBaseUnit}})),this.renderOrderMenu(),this.renderBatchMenu(),l.createElement(N,{open:this.state.createBatchButtonDialogOpen,batchCreationSuccessful:e=>this.setState({createBatchButtonDialogOpen:!1})}),l.createElement(P,{open:this.state.requestDownloadDialogOpen,callBack:this.handleDownloadRequestCallback,taskType:this.state.taskType}),l.createElement(H,{open:this.state.requestSingleDateDownloadDialogOpen,callBack:this.handleDownloadRequestCallback,taskType:this.state.singleDateTaskType}),l.createElement(q,{open:this.state.requestUploadDialogOpen,callBack:this.handleRequestUploadCallback,taskType:this.state.uploadTaskType}),l.createElement(Y,{callBack:this.handleDownloadRequestCallback,open:this.state.requestDownloadOrderDetailOpen}),l.createElement(c.E,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.errorSnackBarOpen,onClose:this.closeSnackBar,style:{backgroundColor:s.a.palette.primary1}},l.createElement(c.F,{style:{root:{backgroundColor:s.a.palette.primary1}},action:l.createElement(c.s,{key:"close","aria-label":"Close",color:"inherit",onClick:this.closeSnackBar},l.createElement(U.a,null)),message:l.createElement(p.g,null,l.createElement(V.a,null),l.createElement(m.b,null),l.createElement(p.l,{style:{color:s.a.palette.textAlternate}},"Request operation Failed. Please try again."))})))}}t.a=Object(L.o)(K)}}]);